<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LTKCPP-- LLRP Toolkit C Plus Plus Library: LLRP::CConnection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">LTKCPP-- LLRP Toolkit C Plus Plus Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceLLRP.html">LLRP</a></li><li class="navelem"><a class="el" href="classLLRP_1_1CConnection.html">CConnection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classLLRP_1_1CConnection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">LLRP::CConnection Class Reference<div class="ingroups"><a class="el" href="group__LTKCoreElement.html">Core LTK Library classes and functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="namespaceLLRP.html">LLRP</a> connection class.  
 <a href="classLLRP_1_1CConnection.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ltkcpp__connection_8h_source.html">ltkcpp_connection.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab6266c8d13415dfd8769cb07d7b16aec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#ab6266c8d13415dfd8769cb07d7b16aec">CConnection</a> (const <a class="el" href="classLLRP_1_1CTypeRegistry.html">CTypeRegistry</a> *pTypeRegistry, unsigned int nBufferSize)</td></tr>
<tr class="memdesc:ab6266c8d13415dfd8769cb07d7b16aec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a new <a class="el" href="namespaceLLRP.html">LLRP</a> connection instance.  <a href="#ab6266c8d13415dfd8769cb07d7b16aec">More...</a><br/></td></tr>
<tr class="separator:ab6266c8d13415dfd8769cb07d7b16aec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817281bae268b529c2920833ca4406e1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a817281bae268b529c2920833ca4406e1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a817281bae268b529c2920833ca4406e1">~CConnection</a> (void)</td></tr>
<tr class="memdesc:a817281bae268b529c2920833ca4406e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct a <a class="el" href="namespaceLLRP.html">LLRP</a> connection instance. <br/></td></tr>
<tr class="separator:a817281bae268b529c2920833ca4406e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a79d9584c75955c86ae7454c5102964"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a5a79d9584c75955c86ae7454c5102964">openConnectionToReader</a> (const char *pReaderHostName)</td></tr>
<tr class="memdesc:a5a79d9584c75955c86ae7454c5102964"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a connection to the reader over an unencrypted socket.  <a href="#a5a79d9584c75955c86ae7454c5102964">More...</a><br/></td></tr>
<tr class="separator:a5a79d9584c75955c86ae7454c5102964"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb7e0b802a47ed1b66dcacb0995b315a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#aeb7e0b802a47ed1b66dcacb0995b315a">openSecureConnectionToReader</a> (const char *pReaderHostName)</td></tr>
<tr class="memdesc:aeb7e0b802a47ed1b66dcacb0995b315a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a connection to the reader over an encrypted socket.  <a href="#aeb7e0b802a47ed1b66dcacb0995b315a">More...</a><br/></td></tr>
<tr class="separator:aeb7e0b802a47ed1b66dcacb0995b315a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8917d2f7c63eb21385097cf4da75a94"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#ac8917d2f7c63eb21385097cf4da75a94">getConnectError</a> (void)</td></tr>
<tr class="memdesc:ac8917d2f7c63eb21385097cf4da75a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the string that explains openReaderConnection() error.  <a href="#ac8917d2f7c63eb21385097cf4da75a94">More...</a><br/></td></tr>
<tr class="separator:ac8917d2f7c63eb21385097cf4da75a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad368387594e8db418f619dc18a3709b3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#ad368387594e8db418f619dc18a3709b3">closeConnectionToReader</a> (void)</td></tr>
<tr class="memdesc:ad368387594e8db418f619dc18a3709b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close connection to reader, allow reuse of instance.  <a href="#ad368387594e8db418f619dc18a3709b3">More...</a><br/></td></tr>
<tr class="separator:ad368387594e8db418f619dc18a3709b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41d8a95784dbe72c4cf9e7d52d79bc8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a41d8a95784dbe72c4cf9e7d52d79bc8d">transact</a> (<a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *pSendMessage, int nMaxMS)</td></tr>
<tr class="memdesc:a41d8a95784dbe72c4cf9e7d52d79bc8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transact a <a class="el" href="namespaceLLRP.html">LLRP</a> request and response to a connection.  <a href="#a41d8a95784dbe72c4cf9e7d52d79bc8d">More...</a><br/></td></tr>
<tr class="separator:a41d8a95784dbe72c4cf9e7d52d79bc8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfcff4340fa63f2110d1888272347876"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#acfcff4340fa63f2110d1888272347876">getTransactError</a> (void)</td></tr>
<tr class="memdesc:acfcff4340fa63f2110d1888272347876"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#a41d8a95784dbe72c4cf9e7d52d79bc8d" title="Transact a LLRP request and response to a connection. ">transact()</a> error.  <a href="#acfcff4340fa63f2110d1888272347876">More...</a><br/></td></tr>
<tr class="separator:acfcff4340fa63f2110d1888272347876"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e7321dccee4c540e257b8b43525e163"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceLLRP.html#a390e17623a0cb0a8dcdfdb6f9ead0d99">EResultCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a9e7321dccee4c540e257b8b43525e163">sendMessage</a> (<a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *pMessage)</td></tr>
<tr class="memdesc:a9e7321dccee4c540e257b8b43525e163"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a <a class="el" href="namespaceLLRP.html">LLRP</a> message to a connection.  <a href="#a9e7321dccee4c540e257b8b43525e163">More...</a><br/></td></tr>
<tr class="separator:a9e7321dccee4c540e257b8b43525e163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994f674079c593f015b7efd125cfc96d"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a994f674079c593f015b7efd125cfc96d">getSendError</a> (void)</td></tr>
<tr class="memdesc:a994f674079c593f015b7efd125cfc96d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#a9e7321dccee4c540e257b8b43525e163" title="Send a LLRP message to a connection. ">sendMessage()</a> error.  <a href="#a994f674079c593f015b7efd125cfc96d">More...</a><br/></td></tr>
<tr class="separator:a994f674079c593f015b7efd125cfc96d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3e106cd20a12b4a56d8468d8478d5e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#ad3e106cd20a12b4a56d8468d8478d5e7">recvMessage</a> (int nMaxMS)</td></tr>
<tr class="memdesc:ad3e106cd20a12b4a56d8468d8478d5e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a message from a connection.  <a href="#ad3e106cd20a12b4a56d8468d8478d5e7">More...</a><br/></td></tr>
<tr class="separator:ad3e106cd20a12b4a56d8468d8478d5e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cd65b887fde5a6e9e5de50aeec3dbe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a51cd65b887fde5a6e9e5de50aeec3dbe">recvResponse</a> (int nMaxMS, const <a class="el" href="classLLRP_1_1CTypeDescriptor.html">CTypeDescriptor</a> *pResponseType, llrp_u32_t ResponseMessageID)</td></tr>
<tr class="memdesc:a51cd65b887fde5a6e9e5de50aeec3dbe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive a specific message from a connection.  <a href="#a51cd65b887fde5a6e9e5de50aeec3dbe">More...</a><br/></td></tr>
<tr class="separator:a51cd65b887fde5a6e9e5de50aeec3dbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a855416d584849a0cf49ad0cab7c3da45"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLLRP_1_1CConnection.html#a855416d584849a0cf49ad0cab7c3da45">getRecvError</a> (void)</td></tr>
<tr class="memdesc:a855416d584849a0cf49ad0cab7c3da45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#ad3e106cd20a12b4a56d8468d8478d5e7" title="Receive a message from a connection. ">recvMessage()</a> or <a class="el" href="classLLRP_1_1CConnection.html#a51cd65b887fde5a6e9e5de50aeec3dbe" title="Receive a specific message from a connection. ">recvResponse()</a> error.  <a href="#a855416d584849a0cf49ad0cab7c3da45">More...</a><br/></td></tr>
<tr class="separator:a855416d584849a0cf49ad0cab7c3da45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="namespaceLLRP.html">LLRP</a> connection class. </p>
<p>An <a class="el" href="namespaceLLRP.html">LLRP</a> connection consists of:</p>
<ul>
<li>A network socket</li>
<li>An input queue of messages already received. Used to hold asynchronous messages while awaiting a response.</li>
<li>Receiver state.<ul>
<li>The receive buffer and count</li>
<li>Whether a frame is valid. Valid means that the receive buffer holds a frame and the MessageLength, MessageType, ProtocolVersion, and MessageID are valid (usable). Not valid with a nBuffer greater than 0 means that a frame is being received. Sometimes we want to look at the frame after it has been (or attempted to be) decoded.</li>
<li>Top-level frame variables: CFrameExtract</li>
<li>Details of the last receiver error, including I/O errors, end-of-file (EOF), timeout, or decode errors.</li>
</ul>
</li>
<li>Send state<ul>
<li>The send buffer and count</li>
<li>Details of the last send error, including I/O errors, or encode errors. </li>
</ul>
</li>
</ul>

<p>Definition at line <a class="el" href="ltkcpp__connection_8h_source.html#l00059">59</a> of file <a class="el" href="ltkcpp__connection_8h_source.html">ltkcpp_connection.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab6266c8d13415dfd8769cb07d7b16aec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LLRP::CConnection::CConnection </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLLRP_1_1CTypeRegistry.html">CTypeRegistry</a> *&#160;</td>
          <td class="paramname"><em>pTypeRegistry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>nBufferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a new <a class="el" href="namespaceLLRP.html">LLRP</a> connection instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pTypeRegistry</td><td>The <a class="el" href="namespaceLLRP.html">LLRP</a> registry of known message/parameter types. Includes standard and custom. Used during decode. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nBufferSize</td><td>Size of each the receive and send buffers. Use size larger than the largest frame you expect. 0 selects a default value.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>!=NULL Pointer to connection instance ==NULL Error, always an allocation failure most likely nBufferSize is weird </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00087">87</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad368387594e8db418f619dc18a3709b3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LLRP::CConnection::closeConnectionToReader </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close connection to reader, allow reuse of instance. </p>
<dl class="section return"><dt>Returns</dt><dd>==0 Connected OK, ready for business !=0 Error, check <a class="el" href="classLLRP_1_1CConnection.html#ac8917d2f7c63eb21385097cf4da75a94" title="Get the string that explains openReaderConnection() error. ">getConnectError()</a> for reason </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00427">427</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00144">~CConnection()</a>.</p>

</div>
</div>
<a class="anchor" id="ac8917d2f7c63eb21385097cf4da75a94"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * LLRP::CConnection::getConnectError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the string that explains openReaderConnection() error. </p>
<dl class="section return"><dt>Returns</dt><dd>==NULL No error !=NULL Short string description of error </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00410">410</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a855416d584849a0cf49ad0cab7c3da45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> * LLRP::CConnection::getRecvError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#ad3e106cd20a12b4a56d8468d8478d5e7" title="Receive a message from a connection. ">recvMessage()</a> or <a class="el" href="classLLRP_1_1CConnection.html#a51cd65b887fde5a6e9e5de50aeec3dbe" title="Receive a specific message from a connection. ">recvResponse()</a> error. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to const error details </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00717">717</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00538">getTransactError()</a>.</p>

</div>
</div>
<a class="anchor" id="a994f674079c593f015b7efd125cfc96d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> * LLRP::CConnection::getSendError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#a9e7321dccee4c540e257b8b43525e163" title="Send a LLRP message to a connection. ">sendMessage()</a> error. </p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to const error details </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00632">632</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00538">getTransactError()</a>.</p>

</div>
</div>
<a class="anchor" id="acfcff4340fa63f2110d1888272347876"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classLLRP_1_1CErrorDetails.html">CErrorDetails</a> * LLRP::CConnection::getTransactError </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the details that explains <a class="el" href="classLLRP_1_1CConnection.html#a41d8a95784dbe72c4cf9e7d52d79bc8d" title="Transact a LLRP request and response to a connection. ">transact()</a> error. </p>
<p>This is not 100% reliable. It looks at the send error and if that seems OK it uses the recv error. Uses of <a class="el" href="classLLRP_1_1CConnection.html#a9e7321dccee4c540e257b8b43525e163" title="Send a LLRP message to a connection. ">sendMessage()</a>, <a class="el" href="classLLRP_1_1CConnection.html#ad3e106cd20a12b4a56d8468d8478d5e7" title="Receive a message from a connection. ">recvMessage()</a> or <a class="el" href="classLLRP_1_1CConnection.html#a51cd65b887fde5a6e9e5de50aeec3dbe" title="Receive a specific message from a connection. ">recvResponse()</a> since <a class="el" href="classLLRP_1_1CConnection.html#a41d8a95784dbe72c4cf9e7d52d79bc8d" title="Transact a LLRP request and response to a connection. ">transact()</a> will distort the error.</p>
<dl class="section return"><dt>Returns</dt><dd>Pointer to const error details </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00538">538</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__connection_8cpp_source.html#l00717">getRecvError()</a>, <a class="el" href="ltkcpp__connection_8cpp_source.html#l00632">getSendError()</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00635">LLRP::CErrorDetails::m_eResultCode</a>, and <a class="el" href="ltkcpp__base_8h_source.html#l00585">LLRP::RC_OK</a>.</p>

</div>
</div>
<a class="anchor" id="a5a79d9584c75955c86ae7454c5102964"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LLRP::CConnection::openConnectionToReader </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pReaderHostName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a connection to the reader over an unencrypted socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReaderHostName</td><td>String containing the reader host name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>==0 Connected OK, ready for business !=0 Error, check <a class="el" href="classLLRP_1_1CConnection.html#ac8917d2f7c63eb21385097cf4da75a94" title="Get the string that explains openReaderConnection() error. ">getConnectError()</a> for reason </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00183">183</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00199">openSecureConnectionToReader()</a>.</p>

</div>
</div>
<a class="anchor" id="aeb7e0b802a47ed1b66dcacb0995b315a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int LLRP::CConnection::openSecureConnectionToReader </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pReaderHostName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a connection to the reader over an encrypted socket. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pReaderHostName</td><td>String containing the reader host name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>==0 Connected OK, ready for business !=0 Error, check <a class="el" href="classLLRP_1_1CConnection.html#ac8917d2f7c63eb21385097cf4da75a94" title="Get the string that explains openReaderConnection() error. ">getConnectError()</a> for reason </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00199">199</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__connection_8cpp_source.html#l00183">openConnectionToReader()</a>.</p>

</div>
</div>
<a class="anchor" id="ad3e106cd20a12b4a56d8468d8478d5e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> * LLRP::CConnection::recvMessage </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nMaxMS</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a message from a connection. </p>
<p>The message could have already arrived and be pending on the input queue.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nMaxMS</td><td>-1 =&gt; block indefinitely 0 =&gt; just peek at input queue and socket queue, return immediately no matter what &gt;0 =&gt; ms to await complete frame</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>==NULL No message available per parameters. Check <a class="el" href="classLLRP_1_1CConnection.html#a855416d584849a0cf49ad0cab7c3da45" title="Get the details that explains recvMessage() or recvResponse() error. ">getRecvError()</a> for why !=NULL Input message </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00659">659</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__base_8h_source.html#l00586">LLRP::RC_MiscError</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00585">LLRP::RC_OK</a>, and <a class="el" href="ltkcpp__error_8cpp_source.html#l00061">LLRP::CErrorDetails::resultCodeAndWhatStr()</a>.</p>

</div>
</div>
<a class="anchor" id="a51cd65b887fde5a6e9e5de50aeec3dbe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> * LLRP::CConnection::recvResponse </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nMaxMS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classLLRP_1_1CTypeDescriptor.html">CTypeDescriptor</a> *&#160;</td>
          <td class="paramname"><em>pResponseType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">llrp_u32_t&#160;</td>
          <td class="paramname"><em>ResponseMessageID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive a specific message from a connection. </p>
<p>The message is identified by type and message ID.</p>
<p>This is used to receive a response to a request, but could be used for other things, too. A message matches and is returned if the type matches AND if the message ID matches. Either or both can be wildcards.</p>
<p>The sought message could have already arrived and be pending on the input queue. While we are looking for the response notifications might arrive. They are held in the input queue while we continue to look for the sought message.</p>
<p>About timeLimit.... The timeLimit is the last time() we'll try to receive the sought message and prevents "spinning". It is conceivable that a steady stream of messages other than the one sought could arrive, and the time between those messages could be smaller the nMaxMS. When that happens, recvAdvance() would not time out during its poll/select. It could "spin". The time out must be detected by other means and that's the purpose of timeLimit.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nMaxMS</td><td>-1 =&gt; block indefinitely 0 =&gt; just peek at input queue and socket queue, return immediately no matter what &gt;0 =&gt; ms to await complete frame </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pResponseType</td><td>The type descriptor of the sought or NULL to match all messages. If not NULL, ERROR_MESSAGE will also match. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ResponseMessageID</td><td>The MessageID of sought message or 0 to match all messages.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>==NULL No message available per parameters. Check <a class="el" href="classLLRP_1_1CConnection.html#a855416d584849a0cf49ad0cab7c3da45" title="Get the details that explains recvMessage() or recvResponse() error. ">getRecvError()</a> for why !=NULL Input message </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00770">770</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__base_8h_source.html#l01107">LLRP::CMessage::getMessageID()</a>, <a class="el" href="ltkcpp__typeregistry_8cpp_source.html#l00080">LLRP::CTypeRegistry::lookupMessage()</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00972">LLRP::CElement::m_pType</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00586">LLRP::RC_MiscError</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00585">LLRP::RC_OK</a>, and <a class="el" href="ltkcpp__error_8cpp_source.html#l00061">LLRP::CErrorDetails::resultCodeAndWhatStr()</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00475">transact()</a>.</p>

</div>
</div>
<a class="anchor" id="a9e7321dccee4c540e257b8b43525e163"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceLLRP.html#a390e17623a0cb0a8dcdfdb6f9ead0d99">EResultCode</a> LLRP::CConnection::sendMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *&#160;</td>
          <td class="paramname"><em>pMessage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a <a class="el" href="namespaceLLRP.html">LLRP</a> message to a connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pMessage</td><td>Pointer to the <a class="el" href="namespaceLLRP.html">LLRP</a> message to send.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RC_OK Frame sent RC_SendIOError I/O error in write(). Probably means fd is bad. RC_... Encoder error. Check <a class="el" href="classLLRP_1_1CConnection.html#a994f674079c593f015b7efd125cfc96d" title="Get the details that explains sendMessage() error. ">getSendError()</a> for why. </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00568">568</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__error_8cpp_source.html#l00029">LLRP::CErrorDetails::clear()</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00635">LLRP::CErrorDetails::m_eResultCode</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00586">LLRP::RC_MiscError</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00585">LLRP::RC_OK</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00588">LLRP::RC_SendIOError</a>, and <a class="el" href="ltkcpp__error_8cpp_source.html#l00061">LLRP::CErrorDetails::resultCodeAndWhatStr()</a>.</p>

<p>Referenced by <a class="el" href="ltkcpp__connection_8cpp_source.html#l00475">transact()</a>.</p>

</div>
</div>
<a class="anchor" id="a41d8a95784dbe72c4cf9e7d52d79bc8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> * LLRP::CConnection::transact </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLLRP_1_1CMessage.html">CMessage</a> *&#160;</td>
          <td class="paramname"><em>pSendMessage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nMaxMS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transact a <a class="el" href="namespaceLLRP.html">LLRP</a> request and response to a connection. </p>
<p>This is a combination of <a class="el" href="classLLRP_1_1CConnection.html#a9e7321dccee4c540e257b8b43525e163" title="Send a LLRP message to a connection. ">sendMessage()</a> and <a class="el" href="classLLRP_1_1CConnection.html#a51cd65b887fde5a6e9e5de50aeec3dbe" title="Receive a specific message from a connection. ">recvResponse()</a>. The MessageID is taken from the outgoing messages. It's best to not use MessageID 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pSendMessage</td><td>Pointer to the <a class="el" href="namespaceLLRP.html">LLRP</a> message to send. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">nMaxMS</td><td>-1 =&gt; block indefinitely 0 =&gt; just peek at input queue and socket queue, return immediately no matter what &gt;0 =&gt; ms to await complete frame</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>==NULL Something failed. Use <a class="el" href="classLLRP_1_1CConnection.html#acfcff4340fa63f2110d1888272347876" title="Get the details that explains transact() error. ">getTransactError()</a> for best guess at what went wrong. !=NULL Response message </dd></dl>

<p>Definition at line <a class="el" href="ltkcpp__connection_8cpp_source.html#l00475">475</a> of file <a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a>.</p>

<p>References <a class="el" href="ltkcpp__error_8cpp_source.html#l00029">LLRP::CErrorDetails::clear()</a>, <a class="el" href="ltkcpp__base_8h_source.html#l01107">LLRP::CMessage::getMessageID()</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00776">LLRP::CTypeDescriptor::m_pResponseType</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00972">LLRP::CElement::m_pType</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00595">LLRP::RC_MissingResponseType</a>, <a class="el" href="ltkcpp__base_8h_source.html#l00585">LLRP::RC_OK</a>, <a class="el" href="ltkcpp__connection_8cpp_source.html#l00770">recvResponse()</a>, <a class="el" href="ltkcpp__error_8cpp_source.html#l00061">LLRP::CErrorDetails::resultCodeAndWhatStr()</a>, and <a class="el" href="ltkcpp__connection_8cpp_source.html#l00568">sendMessage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="ltkcpp__connection_8h_source.html">ltkcpp_connection.h</a></li>
<li><a class="el" href="ltkcpp__connection_8cpp_source.html">ltkcpp_connection.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri May 17 2019 23:03:41 for LTKCPP-- LLRP Toolkit C Plus Plus Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
